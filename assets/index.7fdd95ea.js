import{r as f,o as a,c,a as o,F as g,b as k,d as v,e as w,t as h,p as I,f as S,g as _,h as D,M as L,W as M,w as q,i as b,v as y,j as A,k as x,l as p,m as T,n as P,q as z,s as N,u as V,x as $,y as F,z as B,A as O,B as U}from"./vendor.da0047c4.js";const E=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function d(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(s){if(s.ep)return;s.ep=!0;const r=d(s);fetch(s.href,r)}};E();var W=(t,e)=>{const d=t.__vccOpts||t;for(const[l,s]of e)d[l]=s;return d};const R={props:{words:Array},data(){return{loadingCloud:!1}},methods:{generateWordCloud(){this.$emit("showWordCloud",this.loadingCloud)}}},j=t=>(I("data-v-32db0580"),t=t(),S(),t),K={class:"card border border-primary",id:"top-words-card"},G={class:"card-body words-table overflow-auto"},H={class:"table"},Q=j(()=>o("thead",{class:"sticky-top"},[o("th",{scope:"col"},"#"),o("th",{scope:"col"},"Word"),o("th",{scope:"col"},"Count")],-1)),J={scope:"row",class:"fw-normal"},X={class:"text-start"},Y={class:"fw-bolder text-primary"},Z={class:"card-footer"},oo={key:0,class:"spinner-grow spinner-grow-sm",role:"status","aria-hidden":"true"};function eo(t,e,d,l,s,r){const i=f("font-awesome-icon");return a(),c("div",K,[o("div",G,[o("table",H,[Q,o("tbody",null,[(a(!0),c(g,null,k(d.words,(u,m)=>(a(),c("tr",{key:m},[o("th",J,h(m+1),1),o("td",X,h(u.word),1),o("td",Y,h(u.count),1)]))),128))])])]),o("div",Z,[o("button",{type:"button",class:"btn btn-primary",onClick:e[0]||(e[0]=(...u)=>r.generateWordCloud&&r.generateWordCloud(...u))},[s.loadingCloud?(a(),c("span",oo)):(a(),v(i,{key:1,class:"cloud",icon:["fas","cloud"]})),w(" "+h(s.loadingCloud?"Loading...":"Generate wordcloud"),1)])])])}var so=W(R,[["render",eo],["__scopeId","data-v-32db0580"]]);const to={props:{ignoredWords:Array},methods:{clearIgnoredWords(){this.$emit("clearIgnoredWords")},removeWord(t){this.$emit("removeWord",t)}}},ro={class:"card border border-primary",id:"top-words-card"},no={class:"card-header bg-transparent"},ao=w(" Clear all "),io={class:"card-body overflow-auto"},lo={class:"words-list"};function co(t,e,d,l,s,r){const i=f("font-awesome-icon");return a(),c("div",ro,[o("div",no,[o("button",{type:"button",class:"btn btn-danger",onClick:e[0]||(e[0]=(...u)=>r.clearIgnoredWords&&r.clearIgnoredWords(...u))},[ao,_(i,{icon:["fas","trash-alt"]})])]),o("div",io,[o("div",lo,[(a(!0),c(g,null,k(d.ignoredWords,(u,m)=>(a(),c("p",{class:"word-box",key:m},[w(h(u)+" ",1),_(i,{icon:["fas","times-circle"],onClick:C=>r.removeWord(m)},null,8,["onClick"])]))),128))])])])}var uo=W(to,[["render",co],["__scopeId","data-v-6591b725"]]);const mo=t=>{let e=0;return[...t.map(l=>(e=(l.count-t.slice(-1)[0].count)/(t[0].count-t.slice(-1)[0].count)*100,[l.word,e]))]};const _o={name:"App",components:{TopWords:so,IgnoredWords:uo},data(){return{words:[],wordsCloud:[],windowWidth:window.innerWidth,ignoredWords:[],loading:!1,formData:{url:"",top:0,ignored:""}}},mounted(){this.$nextTick(()=>{window.addEventListener("resize",t=>{this.windowWidth=window.innerWidth})})},methods:{async onSubmit(){this.words=[],this.wordsCloud=[],this.loading=!0;const t={url:this.formData.url,top:this.formData.top,ignored:[...this.ignoredWords]};console.log(t);try{const e=await D.post("https://l5w1i9vvqb.execute-api.us-east-1.amazonaws.com/dev/frequent_word",t);console.log(e),this.words=[...e.data.data]}catch(e){console.log(e)}finally{this.loading=!1}},addWord({code:t,keyCode:e,type:d}){(t==="Space"||e===32||d==="click")&&(console.log("space"),this.formData.ignored.trim()!=""&&this.ignoredWords.push(this.formData.ignored.toLowerCase().trim()),this.formData.ignored="")},clearIgnoredWords(){this.ignoredWords=[]},removeWord(t){this.ignoredWords=this.ignoredWords.filter((e,d)=>d!=t)},showWordCloud(t){const e=new L(this.$refs.wordCloudModal),l={list:mo([...this.words]),gridSize:window.innerWidth<=650?6.5:13,weightFactor:window.innerWidth<=650?1:2,fontFamily:"Hiragino Mincho Pro, serif",color:"random-dark"};this.$refs.myCanvas.width=window.innerWidth<=650?320:600,this.$refs.myCanvas.height=window.innerWidth<=650?300:450,M(this.$refs.myCanvas,l),e.show()},downloadWordCloud(){const t=document.createElement("a");t.download="wordcloud.png",t.href=this.$refs.myCanvas.toDataURL(),t.click(),t.delete}}},po={class:"container h-100"},fo={class:"row mt-4"},ho={class:"col-10 col-lg-6 mx-auto"},wo={class:"card border border-primary",id:"main-card"},go=o("div",{class:"card-header bg-transparent fw-bold"}," Website URL ",-1),vo={class:"card-body"},bo={class:"col-auto m-3 mt-0"},yo={class:"row justify-content-center mb-3"},Wo={class:"col-9 col-sm-10 col-md-6"},Co={class:"col-2 col-sm-1 d-flex align-items-center justify-content-center"},ko={class:"row justify-content-center"},xo=o("label",{for:"top",class:"col-3 col-sm-2 col-form-label"},"Top",-1),Io={class:"col-7 col-sm-7 col-md-3"},So={class:"col-auto send-button-container"},Do={key:0,class:"spinner-grow spinner-grow-sm",role:"status","aria-hidden":"true"},Lo={key:0,class:"col-10 col-lg-6 mx-auto mt-5 mt-lg-0"},Mo={class:"row",style:{"margin-bottom":"-1.5rem !important"}},qo={key:0,class:"col-10 col-lg-6 mx-auto top-words mt-5 order-2 order-sm-1"},Ao={class:"modal fade",ref:"wordCloudModal",id:"wordCloudModal",tabindex:"-1","aria-labelledby":"wordcloudModalLabel","aria-hidden":"true"},To={class:"modal-dialog modal-dialog-centered mx-auto"},Po={class:"modal-content"},zo=o("div",{class:"modal-header"},[o("h5",{class:"modal-title fw-bold",id:"wordcloudModalLabel"},"Wordcloud"),o("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),No={class:"modal-body"},Vo={id:"myCanvas",ref:"myCanvas"},$o={class:"modal-footer"},Fo=o("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"},"Close",-1),Bo=w(" Save as Image ");function Oo(t,e,d,l,s,r){const i=f("font-awesome-icon"),u=f("Popper"),m=f("IgnoredWords"),C=f("TopWords");return a(),c(g,null,[o("div",po,[o("div",fo,[o("div",ho,[o("div",wo,[go,o("div",vo,[o("form",{onSubmit:e[6]||(e[6]=q((...n)=>r.onSubmit&&r.onSubmit(...n),["prevent"]))},[o("div",bo,[b(o("input",{type:"url",class:"form-control",id:"web-url","onUpdate:modelValue":e[0]||(e[0]=n=>s.formData.url=n),required:""},null,512),[[y,s.formData.url]])]),o("div",yo,[o("div",Wo,[b(o("input",{type:"text",class:"form-control text-center",id:"ignore-words","onUpdate:modelValue":e[1]||(e[1]=n=>s.formData.ignored=n),onKeyup:e[2]||(e[2]=(...n)=>r.addWord&&r.addWord(...n)),placeholder:"Ignore words or symbols"},null,544),[[y,s.formData.ignored]])]),o("div",Co,[s.windowWidth>576?(a(),v(u,{key:0,content:"Press space key to add word",hover:!0,placement:"left",interactive:!1},{default:A(()=>[_(i,{class:"question-icon",icon:["fas","question-circle"]})]),_:1})):(a(),c("button",{key:1,type:"button",class:"btn btn-primary",onClick:e[3]||(e[3]=(...n)=>r.addWord&&r.addWord(...n))},[_(i,{class:"plus-square",icon:["fas","plus-square"]})]))])]),o("div",ko,[xo,o("div",Io,[b(o("input",{type:"number",min:"1",max:"100",class:"form-control",id:"top","onUpdate:modelValue":e[4]||(e[4]=n=>s.formData.top=n),required:""},null,512),[[y,s.formData.top]])]),o("div",So,[o("button",{type:"submit",class:"btn btn-primary",onClick:e[5]||(e[5]=(...n)=>t.setWordsCloud&&t.setWordsCloud(...n))},[s.loading?(a(),c("span",Do)):(a(),v(i,{key:1,class:"me-2",icon:["fas","paper-plane"]})),w(" "+h(s.loading?"Loading...":"Send"),1)])])])],32)])])]),s.ignoredWords.length?(a(),c("div",Lo,[_(m,{ignoredWords:s.ignoredWords,onClearIgnoredWords:r.clearIgnoredWords,onRemoveWord:r.removeWord},null,8,["ignoredWords","onClearIgnoredWords","onRemoveWord"])])):x("",!0)]),o("div",Mo,[s.words.length?(a(),c("div",qo,[_(C,{words:s.words,onShowWordCloud:r.showWordCloud},null,8,["words","onShowWordCloud"])])):x("",!0)])]),o("div",Ao,[o("div",To,[o("div",Po,[zo,o("div",No,[o("canvas",Vo,null,512)]),o("div",$o,[Fo,o("button",{type:"button",class:"btn btn-primary",onClick:e[7]||(e[7]=(...n)=>r.downloadWordCloud&&r.downloadWordCloud(...n))},[_(i,{class:"me-1",icon:["fas","save"]}),Bo])])])])],512)],64)}var Uo=W(_o,[["render",Oo]]);p.add(T);p.add(P);p.add(z);p.add(N);p.add(V);p.add($);p.add(F);O(Uo).component("font-awesome-icon",B).component("Popper",U).mount("#app");
